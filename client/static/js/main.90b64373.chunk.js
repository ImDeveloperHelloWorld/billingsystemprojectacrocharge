(this["webpackJsonpbilling-system"]=this["webpackJsonpbilling-system"]||[]).push([[0],{41:function(e,t,r){},43:function(e,t,r){},71:function(e,t,r){},72:function(e,t,r){},73:function(e,t,r){},74:function(e,t,r){},76:function(e,t,r){"use strict";r.r(t);var s,a=r(1),n=r(17),c=r.n(n),o=(r(41),r(3)),i=r(5),l=r(8),u=r(7),d=r(12),h=r(9),p=r(4),m=r.n(p),j=r(10),b=(r(43),r(6)),g=r.n(b),O=function e(t,r){Object(o.a)(this,e),this.userName=t,this.password=r},x=r(0),y=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var s;return Object(o.a)(this,r),(s=t.call(this,e)).setUserName=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("User Name Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({userName:t})},s.setPassword=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Password Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({password:t})},s.login=Object(j.a)(m.a.mark((function e(){var t,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(s.state.userName.length<=0||s.state.password.length<=0)){e.next=4;break}return s.setErrorMessage("One Or More Of Your Field Are Empty"),e.abrupt("return");case 4:return t=new O(s.state.userName,s.state.password),e.next=7,g.a.post("http://localhost:3001/users/",t);case 7:r=e.sent,s.setErrorToNull(),a=g.a.defaults.headers.common.Authorization="Bearer "+r.data.token,sessionStorage.setItem("userToken",a),sessionStorage.setItem("isLoggedIn","true"),s.props.history.push("/transactions"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),s.state={userName:"Admin",password:"123456",errorMessage:""},s}return Object(i.a)(r,[{key:"setErrorMessage",value:function(e){var t=e;this.setState({errorMessage:t})}},{key:"setErrorToNull",value:function(){this.setState({errorMessage:""})}},{key:"render",value:function(){return Object(x.jsx)("div",{className:"auth-wrapper",children:Object(x.jsxs)("div",{className:"auth-inner",children:[Object(x.jsxs)("form",{children:[Object(x.jsx)("h3",{children:"Sign In To Billing System"}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"User Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter user name",value:this.state.userName,onChange:this.setUserName})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Password"}),Object(x.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:this.state.password,onChange:this.setPassword})]}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"button",className:"btn btn-primary btn-block",onClick:this.login,children:"Login"})]}),Object(x.jsx)("br",{}),Object(x.jsx)("p",{className:"errorMessage",children:this.state.errorMessage})]})})}}]),r}(a.Component),f=function e(t,r,s,a,n,c,i,l,u,d){Object(o.a)(this,e),this.id=t,this.firstName=r,this.lastName=s,this.email=a,this.gender=n,this.country=c,this.city=i,this.street=l,this.phone=u,this.totalTransactions=d},v=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var s;return Object(o.a)(this,r),(s=t.call(this,e)).setFirstName=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("First Name Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({firstName:t})},s.setLastName=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Last Name Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({lastName:t})},s.setEmail=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Email Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({email:t})},s.setGender=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Gender Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({gender:t})},s.setCountry=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Country Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({country:t})},s.setCity=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("City Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({city:t})},s.setStreet=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Street Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({street:t})},s.setPhone=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Phone Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({phone:t})},s.createCustomer=Object(j.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.state.firstName.length<=0||s.state.lastName.length<=0||s.state.email.length<=0||s.state.gender.length<=0||s.state.country.length<=0||s.state.city.length<=0||s.state.street.length<=0||s.state.phone.length<=0)){e.next=3;break}return s.setErrorMessage("One Or More Of Your Field Are  Empty"),e.abrupt("return");case 3:return e.prev=3,t=new f(null,s.state.firstName,s.state.lastName,s.state.email,s.state.gender,s.state.country,s.state.city,s.state.street,s.state.phone),e.next=7,g.a.post("http://localhost:3001/customers",t);case 7:r=e.sent,s.setErrorMessage(r.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),s.setErrorMessage(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),s.state={firstName:"",lastName:"",email:"",gender:"",country:"",city:"",street:"",phone:"",errorMessage:""},s}return Object(i.a)(r,[{key:"setErrorMessage",value:function(e){var t=e;this.setState({errorMessage:t})}},{key:"setErrorToNull",value:function(){this.setState({errorMessage:""})}},{key:"componentDidMount",value:function(){var e=Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!JSON.parse(sessionStorage.getItem("isLoggedIn"))){e.next=5;break}g.a.defaults.headers.common.Authorization=sessionStorage.getItem("userToken"),this.setErrorToNull(),e.next=8;break;case 5:return alert("Access Denied"),this.props.history.push("/home"),e.abrupt("return");case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(x.jsx)("div",{className:"auth-wrapper",children:Object(x.jsxs)("div",{className:"auth-inner",children:[Object(x.jsxs)("form",{children:[Object(x.jsx)("h3",{children:"Create Transaction"}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"First Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter First Name",value:this.state.firstName,onChange:this.setFirstName,onFocus:this.setFirstName})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Last Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Last Name",value:this.state.lastName,onChange:this.setLastName,onFocus:this.setLastName})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Email"}),Object(x.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter Email",value:this.state.email,onChange:this.setEmail,onFocus:this.setEmail})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Gender"}),Object(x.jsxs)("select",{className:"form-control",defaultValue:"DEFAULT",onChange:this.setGender,onFocus:this.setGender,name:"currency",id:"currency",children:[Object(x.jsx)("option",{value:"DEFAULT",disabled:!0,children:"--Please Select Gender--"}),Object(x.jsx)("option",{value:"Male",children:"Male"}),Object(x.jsx)("option",{value:"Female",children:"Female"})]})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Country"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Country",value:this.state.country,onChange:this.setCountry,onFocus:this.setCountry})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"City"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter City",value:this.state.city,onChange:this.setCity,onFocus:this.setCity})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Street"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Street",value:this.state.street,onChange:this.setStreet,onFocus:this.setStreet})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Phone"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Phone Number",value:this.state.phone,onChange:this.setPhone,onFocus:this.setPhone})]}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"button",className:"btn btn-primary btn-block",onClick:this.createCustomer,children:"Create Customer"})]}),Object(x.jsx)(d.b,{className:"backButton",to:"/customers"}),Object(x.jsx)("br",{}),Object(x.jsx)("p",{className:"errorMessage",children:this.state.errorMessage})]})})}}]),r}(a.Component),N=r(34),E=r(36);!function(e){e[e.GetAllTransactions=0]="GetAllTransactions",e[e.GetAllCustomers=1]="GetAllCustomers",e[e.GetAllCoordinates=2]="GetAllCoordinates",e[e.Login=3]="Login",e[e.Logout=4]="Logout",e[e.DESTROY_SESSION=5]="DESTROY_SESSION"}(s||(s={}));var C=Object(N.a)((function(e,t){var r=Object(E.a)({},e);switch(t.type){case s.Login:r.isLoggedIn=!0;break;case s.Logout:r.isLoggedIn=!1;break;case s.GetAllTransactions:r.transactions=t.payload;break;case s.GetAllCustomers:r.customers=t.payload;break;case s.GetAllCoordinates:r.coordinates=t.payload;break;case s.DESTROY_SESSION:r.isLoggedIn=!1,r.transactions=[]}return r}),new function e(){Object(o.a)(this,e),this.transactions=[],this.customers=[],this.coordinates=[],this.isLoggedIn=!1}),S=function e(t,r,s,a,n,c){Object(o.a)(this,e),this.id=t,this.totalPrice=r,this.currency=s,this.creditCardType=a,this.creditCardNumber=n,this.customerId=c},k=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var s;return Object(o.a)(this,r),(s=t.call(this,e)).unsubscribeStore=void 0,s.setTotalPrice=function(e){var t=parseInt(e.target.value);""===t.toString()?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Total Price Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({totalPrice:t})},s.setCurrency=function(e){var t=e.target.value;s.setState({currency:t})},s.setCreditCardType=function(e){var t=e.target.value;s.setState({creditCardType:t})},s.setCreditCardNumber=function(e){var t=e.target.value;""===t.toString()?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Credit Card Number Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({creditCardNumber:t})},s.setCustomerId=function(e){var t=e.target.value;s.setState({customerId:t})},s.createTransaction=Object(j.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.state.totalPrice.toString().length<=0||s.state.currency.length<=0||s.state.creditCardType.length<=0||s.state.creditCardNumber.length<=0)){e.next=3;break}return s.setErrorMessage("One Or More Of Your Field Are  Empty"),e.abrupt("return");case 3:return e.prev=3,t=new S(null,s.state.totalPrice,s.state.currency,s.state.creditCardType,s.state.creditCardNumber,parseInt(s.state.customerId)),e.next=7,g.a.post("http://localhost:3001/transactions",t);case 7:r=e.sent,s.setErrorMessage(r.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),s.setErrorMessage(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),s.state={totalPrice:0,currency:"",creditCardType:"",creditCardNumber:"",errorMessage:"",customerId:"",customers:[]},s.unsubscribeStore=C.subscribe((function(){return s.setState({customers:C.getState().customers})})),s}return Object(i.a)(r,[{key:"setErrorMessage",value:function(e){var t=e;this.setState({errorMessage:t})}},{key:"setErrorToNull",value:function(){this.setState({errorMessage:""})}},{key:"componentWillUnmount",value:function(){this.unsubscribeStore(),C.dispatch({type:s.DESTROY_SESSION})}},{key:"componentDidMount",value:function(){var e=Object(j.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!JSON.parse(sessionStorage.getItem("isLoggedIn"))){e.next=9;break}return g.a.defaults.headers.common.Authorization=sessionStorage.getItem("userToken"),e.next=4,g.a.get("http://localhost:3001/customers");case 4:t=e.sent,C.dispatch({type:s.GetAllCustomers,payload:t.data}),this.setErrorToNull(),e.next=12;break;case 9:return alert("Access Denied"),this.props.history.push("/home"),e.abrupt("return");case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(x.jsx)("div",{className:"auth-wrapper",children:Object(x.jsxs)("div",{className:"auth-inner",children:[Object(x.jsxs)("form",{children:[Object(x.jsx)("h3",{children:"Create Transaction"}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Total Price"}),Object(x.jsx)("input",{type:"number",className:"form-control",placeholder:"Enter Total Price",value:this.state.totalPrice,onChange:this.setTotalPrice,onFocus:this.setTotalPrice})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Currency"}),Object(x.jsxs)("select",{className:"form-control",defaultValue:"DEFAULT",onChange:this.setCurrency,onFocus:this.setCurrency,name:"currency",id:"currency",children:[Object(x.jsx)("option",{value:"DEFAULT",disabled:!0,children:"--Please Select Currency--"}),Object(x.jsx)("option",{value:"NIO",children:"NIO"}),Object(x.jsx)("option",{value:"IDR",children:"IDR"}),Object(x.jsx)("option",{value:"CUP",children:"CUP"}),Object(x.jsx)("option",{value:"CNY",children:"CNY"})]})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Cerdit Card Type"}),Object(x.jsxs)("select",{className:"form-control",defaultValue:"DEFAULT",onChange:this.setCreditCardType,onFocus:this.setCreditCardType,name:"creditCardType",id:"creditCardType",children:[Object(x.jsx)("option",{value:"DEFAULT",disabled:!0,children:"--Please Select Credit Card Type--"}),Object(x.jsx)("option",{value:"mastercard",children:"mastercard"}),Object(x.jsx)("option",{value:"visa-electron",children:"visa-electron"}),Object(x.jsx)("option",{value:"jcb",children:"jcb"}),Object(x.jsx)("option",{value:"visa",children:"visa"})]})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Cerdit Card Number"}),Object(x.jsx)("input",{type:"number",className:"form-control",placeholder:"Enter Credit Card Number",value:this.state.creditCardNumber,onChange:this.setCreditCardNumber,onFocus:this.setCreditCardNumber})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Customer Ids"}),Object(x.jsxs)("select",{className:"form-control",defaultValue:"DEFAULT",onChange:this.setCustomerId,onFocus:this.setCustomerId,name:"customerIds",id:"customerIds",children:[Object(x.jsx)("option",{value:"DEFAULT",disabled:!0,children:"--Please Select CustomerId--"}),this.state.customers.map((function(e,t){return Object(x.jsx)("option",{value:e.id,children:e.id},t)}))]})]}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"button",className:"btn btn-primary btn-block",onClick:this.createTransaction,children:"Create Transaction"})]}),Object(x.jsx)(d.b,{className:"backButton",to:"/transactions"}),Object(x.jsx)("br",{}),Object(x.jsx)("p",{className:"errorMessage",children:this.state.errorMessage})]})})}}]),r}(a.Component),T=(r(71),function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){return Object(o.a)(this,r),t.call(this,e)}return Object(i.a)(r,[{key:"render",value:function(){return Object(x.jsxs)("tr",{id:this.props.id.toString(),children:[Object(x.jsx)("th",{scope:"row",children:this.props.index}),Object(x.jsx)("td",{children:this.props.id}),Object(x.jsx)("td",{children:this.props.firstName}),Object(x.jsx)("td",{children:this.props.lastName}),Object(x.jsx)("td",{children:this.props.email}),Object(x.jsx)("td",{children:this.props.gender}),Object(x.jsx)("td",{children:this.props.country}),Object(x.jsx)("td",{children:this.props.city}),Object(x.jsx)("td",{children:this.props.street}),Object(x.jsx)("td",{children:this.props.phone}),Object(x.jsx)("td",{children:this.props.totalTransactions}),Object(x.jsx)("td",{children:Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{className:"deleteButton",type:"checkbox",id:this.props.index.toString(),onChange:this.props.onEditClicked,onClick:this.props.onEditClickedNavigate}),Object(x.jsx)("span",{className:"editSpan"})]})}),Object(x.jsx)("td",{children:Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{className:"deleteButton",type:"checkbox",onChange:this.props.onDeleteClicked,id:this.props.index.toString()}),Object(x.jsx)("span",{className:"deleteSpan"})]})})]})}}]),r}(a.Component)),I=r(35),L=(r(72),function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){return Object(o.a)(this,r),t.call(this,e)}return Object(i.a)(r,[{key:"render",value:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"pin bounce",style:{backgroundColor:this.props.color,cursor:"pointer"},title:this.props.name}),Object(x.jsx)("div",{className:"pulse"})]})}}]),r}(a.Component)),M=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var s;return Object(o.a)(this,r),(s=t.call(this,e)).unsubscribeStore=void 0,s.state={center:{lat:31.890267,lng:35.010397},zoom:11,coordinates:[]},s.unsubscribeStore=C.subscribe((function(){return s.setState({coordinates:C.getState().coordinates})})),s}return Object(i.a)(r,[{key:"componentWillUnmount",value:function(){this.unsubscribeStore(),C.dispatch({type:s.DESTROY_SESSION})}},{key:"render",value:function(){return Object(x.jsx)("div",{style:{height:"500px",width:"1000px",margin:"auto"},children:Object(x.jsx)(I.a,{bootstrapURLKeys:{key:"DROP_YOUR_API_KEY_HERE"},defaultCenter:{lat:11.0168,lng:76.9558},defaultZoom:11,children:this.state.coordinates.map((function(e,t){return Object(x.jsx)(L,{lat:e.lat,lng:e.lng,name:"My Marker",color:"blue"},t)}))})})}}]),r}(a.Component),F=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var s;return Object(o.a)(this,r),(s=t.call(this,e)).unsubscribeStore=void 0,s.goToEditCustomer=function(){s.props.history.push("/editcustomer")},s.state={customers:[],coordinates:[]},s.unsubscribeStore=C.subscribe((function(){return s.setState({customers:C.getState().customers})})),s}return Object(i.a)(r,[{key:"editCustomer",value:function(e){sessionStorage.setItem("customerId",e.target.parentElement.parentElement.parentElement.id),sessionStorage.setItem("customerArrPosition",e.target.id)}},{key:"deleteCustomer",value:function(){var e=Object(j.a)(m.a.mark((function e(t){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete the selected customer?")){e.next=11;break}return e.next=3,g.a.delete("http://localhost:3001/customers/"+t.target.parentElement.parentElement.parentElement.id);case 3:return r=e.sent,e.next=6,g.a.get("http://localhost:3001/customers");case 6:a=e.sent,C.dispatch({type:s.GetAllCustomers,payload:a.data}),window.confirm(r.data),e.next=12;break;case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLatAndLgn",value:function(){var e=Object(j.a)(m.a.mark((function e(t,r,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://maps.googleapis.com/maps/api/geocode/json?address="+t.replace(/\s/g,"+")+",+"+r.replace(/\s/g,"+")+"&key=DROP_YOUR_API_KEY_HERE",{transformRequest:function(e,t){return delete t.common.Authorization,e}});case 2:n=e.sent,this.state.coordinates.push(n.data.results[0].geometry.location),this.state.coordinates.length<=a&&C.dispatch({type:s.GetAllCoordinates,payload:this.state.coordinates});case 5:case"end":return e.stop()}}),e,this)})));return function(t,r,s){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{children:[Object(x.jsxs)("table",{className:"table table-hover table-dark",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{scope:"col",children:"#"}),Object(x.jsx)("th",{scope:"col",children:"CustomerId"}),Object(x.jsx)("th",{scope:"col",children:"First Name"}),Object(x.jsx)("th",{scope:"col",children:"Last Name"}),Object(x.jsx)("th",{scope:"col",children:"Email"}),Object(x.jsx)("th",{scope:"col",children:"Gender"}),Object(x.jsx)("th",{scope:"col",children:"Country"}),Object(x.jsx)("th",{scope:"col",children:"City"}),Object(x.jsx)("th",{scope:"col",children:"Street"}),Object(x.jsx)("th",{scope:"col",children:"Phone"}),Object(x.jsx)("th",{scope:"col",children:"Total Transactions"}),Object(x.jsx)("th",{scope:"col",children:"Edit User"}),Object(x.jsx)("th",{scope:"col",children:"Delete User"})]})}),Object(x.jsx)("tbody",{children:this.state.customers.map((function(t,r){return Object(x.jsx)(T,{id:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email,gender:t.gender,country:t.country,city:t.city,street:t.street,phone:t.phone,totalTransactions:t.totalTransactions,index:r,onEditClicked:e.editCustomer,onEditClickedNavigate:e.goToEditCustomer,onDeleteClicked:e.deleteCustomer},t.id)}))})]}),Object(x.jsx)(d.b,{to:"/createcustomer",children:"Create New Customer"}),Object(x.jsx)("br",{}),Object(x.jsx)(d.b,{to:"/transactions",children:"Transactions List"}),Object(x.jsx)("div",{children:Object(x.jsx)(M,{})})]})}},{key:"componentWillUnmount",value:function(){this.unsubscribeStore(),C.dispatch({type:s.DESTROY_SESSION})}},{key:"componentDidMount",value:function(){var e=Object(j.a)(m.a.mark((function e(){var t,r=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!JSON.parse(sessionStorage.getItem("isLoggedIn"))){e.next=8;break}return g.a.defaults.headers.common.Authorization=sessionStorage.getItem("userToken"),e.next=4,g.a.get("http://localhost:3001/customers");case 4:t=e.sent,sessionStorage.setItem("customersArr",JSON.stringify(t.data)),C.dispatch({type:s.GetAllCustomers,payload:t.data}),this.state.customers.map((function(e,t){return r.getLatAndLgn(e.country,e.city,t),!0}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(a.Component),w=function e(t,r,s,a,n,c,i,l,u){Object(o.a)(this,e),this.id=t,this.firstName=r,this.lastName=s,this.email=a,this.gender=n,this.country=c,this.city=i,this.street=l,this.phone=u},P=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var s;return Object(o.a)(this,r),(s=t.call(this,e)).setFirstName=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("First Name Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({firstName:t})},s.setLastName=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Last Name Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({lastName:t})},s.setEmail=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Email Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({email:t})},s.setGender=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Gender Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({gender:t})},s.setCountry=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Country Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({country:t})},s.setCity=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("City Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({city:t})},s.setStreet=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Street Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({street:t})},s.setPhone=function(e){var t=e.target.value;t.length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Phone Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({phone:t})},s.editCustomer=Object(j.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.state.firstName.length<=0||s.state.lastName.length<=0||s.state.email.length<=0||s.state.gender.length<=0||s.state.country.length<=0||s.state.city.length<=0||s.state.street.length<=0||s.state.phone.length<=0)){e.next=3;break}return s.setErrorMessage("One Or More Of Your Field Are  Empty"),e.abrupt("return");case 3:return e.prev=3,t=new w(s.state.id,s.state.firstName,s.state.lastName,s.state.email,s.state.gender,s.state.country,s.state.city,s.state.street,s.state.phone),e.next=7,g.a.put("http://localhost:3001/customers",t);case 7:r=e.sent,s.setErrorMessage(r.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),s.setErrorMessage(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),s.state={id:"",firstName:"",lastName:"",email:"",gender:"",country:"",city:"",street:"",phone:"",errorMessage:"",customers:[]},s}return Object(i.a)(r,[{key:"setErrorMessage",value:function(e){var t=e;this.setState({errorMessage:t})}},{key:"setErrorToNull",value:function(){this.setState({errorMessage:""})}},{key:"componentDidMount",value:function(){var e=Object(j.a)(m.a.mark((function e(){var t,r,s,a,n,c,o,i,l,u,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!JSON.parse(sessionStorage.getItem("isLoggedIn"))){e.next=17;break}g.a.defaults.headers.common.Authorization=sessionStorage.getItem("userToken"),t=JSON.parse(sessionStorage.getItem("customersArr")),r=t[JSON.parse(sessionStorage.getItem("customerArrPosition"))],s=r.id,a=r.firstName,n=r.lastName,c=r.email,o=r.gender,i=r.country,l=r.city,u=r.street,d=r.phone,this.setState({id:s,firstName:a,lastName:n,email:c,gender:o,country:i,city:l,street:u,phone:d}),this.setErrorToNull(),e.next=20;break;case 17:return alert("Access Denied"),this.props.history.push("/home"),e.abrupt("return");case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(x.jsx)("div",{className:"auth-wrapper",children:Object(x.jsxs)("div",{className:"auth-inner",children:[Object(x.jsxs)("form",{children:[Object(x.jsx)("h3",{children:"Edit Customer"}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"First Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter First Name",value:this.state.firstName,onChange:this.setFirstName,onFocus:this.setFirstName})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Last Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Last Name",value:this.state.lastName,onChange:this.setLastName,onFocus:this.setLastName})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Email"}),Object(x.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter Email",value:this.state.email,onChange:this.setEmail,onFocus:this.setEmail})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Gender"}),Object(x.jsxs)("select",{className:"form-control",defaultValue:"DEFAULT",onChange:this.setGender,onFocus:this.setGender,name:"currency",id:"currency",children:[Object(x.jsx)("option",{value:"DEFAULT",disabled:!0,children:"--Please Select Gender--"}),Object(x.jsx)("option",{value:"Male",children:"Male"}),Object(x.jsx)("option",{value:"Female",children:"Female"})]})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Country"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Country",value:this.state.country,onChange:this.setCountry,onFocus:this.setCountry})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"City"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter City",value:this.state.city,onChange:this.setCity,onFocus:this.setCity})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Street"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Street",value:this.state.street,onChange:this.setStreet,onFocus:this.setStreet})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Phone"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Phone Number",value:this.state.phone,onChange:this.setPhone,onFocus:this.setPhone})]}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"button",className:"btn btn-primary btn-block",onClick:this.editCustomer,children:"Edit Customer"})]}),Object(x.jsx)(d.b,{className:"backButton",to:"/customers"}),Object(x.jsx)("br",{}),Object(x.jsx)("p",{className:"errorMessage",children:this.state.errorMessage})]})})}}]),r}(a.Component),A=function e(t,r,s,a,n){Object(o.a)(this,e),this.id=t,this.totalPrice=r,this.currency=s,this.creditCardType=a,this.creditCardNumber=n},D=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var s;return Object(o.a)(this,r),(s=t.call(this,e)).setTotalPrice=function(e){var t=parseInt(e.target.value);t.toString().length<=0?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Total Price Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({totalPrice:t})},s.setCurrency=function(e){var t=e.target.value;s.setState({currency:t})},s.setcreditCardType=function(e){var t=e.target.value;s.setState({creditCardType:t})},s.setcreditCardNumber=function(e){var t=e.target.value;""===t.toString()?(e.target.classList.add("errorEmpty"),s.setErrorMessage("Credit Card Number Field Is Empty")):(e.target.classList.remove("errorEmpty"),s.setErrorToNull()),s.setState({creditCardNumber:t})},s.editTransaction=Object(j.a)(m.a.mark((function e(){var t,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.state.totalPrice.toString().length<=0||s.state.currency.length<=0||s.state.creditCardType.length<=0||s.state.creditCardNumber.length<=0)){e.next=3;break}return s.setErrorMessage("One Or More Of Your Field Are  Empty"),e.abrupt("return");case 3:return e.prev=3,t=new A(s.state.id,s.state.totalPrice,s.state.currency,s.state.creditCardType,s.state.creditCardNumber),e.next=7,g.a.put("http://localhost:3001/transactions",t);case 7:r=e.sent,s.setErrorMessage(r.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),s.setErrorMessage(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),s.state={id:0,totalPrice:0,currency:"",creditCardType:"",creditCardNumber:"",errorMessage:"",transactions:[]},s}return Object(i.a)(r,[{key:"setErrorMessage",value:function(e){var t=e;this.setState({errorMessage:t})}},{key:"setErrorToNull",value:function(){this.setState({errorMessage:""})}},{key:"componentDidMount",value:function(){var e=Object(j.a)(m.a.mark((function e(){var t,r,s,a,n,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!JSON.parse(sessionStorage.getItem("isLoggedIn"))){e.next=13;break}g.a.defaults.headers.common.Authorization=sessionStorage.getItem("userToken"),t=JSON.parse(sessionStorage.getItem("transactionsArr")),r=t[JSON.parse(sessionStorage.getItem("transactionArrPosition"))],s=r.id,a=r.totalPrice,n=r.currency,c=r.creditCardType,o=r.creditCardNumber,this.setState({id:s,totalPrice:a,currency:n,creditCardType:c,creditCardNumber:o}),this.setErrorToNull(),e.next=16;break;case 13:return alert("Access Denied"),this.props.history.push("/home"),e.abrupt("return");case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(x.jsx)("div",{className:"auth-wrapper",children:Object(x.jsxs)("div",{className:"auth-inner",children:[Object(x.jsxs)("form",{children:[Object(x.jsx)("h3",{children:"Edit Transaction"}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Total Price"}),Object(x.jsx)("input",{type:"number",className:"form-control",placeholder:"Enter Total Price",value:this.state.totalPrice,onChange:this.setTotalPrice})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Currency"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Currency",value:this.state.currency,onChange:this.setCurrency})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Cerdit Card Type"}),Object(x.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter  Credit Card Type",value:this.state.creditCardType,onChange:this.setcreditCardType})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{children:"Cerdit Card Number"}),Object(x.jsx)("input",{type:"number",className:"form-control",placeholder:"Enter Credit Card Number",value:this.state.creditCardNumber,onChange:this.setcreditCardNumber})]}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{type:"button",className:"btn btn-primary btn-block",onClick:this.editTransaction,children:"Edit Transaction"})]}),Object(x.jsx)(d.b,{className:"backButton",to:"/transactions"}),Object(x.jsx)("br",{}),Object(x.jsx)("p",{className:"errorMessage",children:this.state.errorMessage})]})})}}]),r}(a.Component),G=(r(73),function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return Object(x.jsx)("div",{className:"page-wrap d-flex flex-row align-items-center",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row justify-content-center",children:Object(x.jsxs)("div",{className:"col-md-12 text-center",children:[Object(x.jsx)("span",{className:"display-1 d-block",children:"404"}),Object(x.jsx)("div",{className:"mb-4 lead",children:"The page you are looking for was not found."}),Object(x.jsx)(d.b,{className:"btn btn-link",to:"/home",children:"Back to Home"})]})})})})}}]),r}(a.Component)),U=(r(74),function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){return Object(o.a)(this,r),t.call(this,e)}return Object(i.a)(r,[{key:"render",value:function(){return Object(x.jsxs)("tr",{id:this.props.id.toString(),children:[Object(x.jsx)("th",{scope:"row",children:this.props.index}),Object(x.jsx)("td",{children:this.props.id}),Object(x.jsx)("td",{children:"$"+this.props.totalPrice}),Object(x.jsx)("td",{children:this.props.customerId}),Object(x.jsx)("td",{children:this.props.currency}),Object(x.jsx)("td",{children:this.props.creditCardType}),Object(x.jsx)("td",{children:this.props.creditCardNumber}),Object(x.jsx)("td",{children:Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{className:"deleteButton",type:"checkbox",id:this.props.index.toString(),onChange:this.props.onEditClicked,onClick:this.props.onEditClickedNavigate}),Object(x.jsx)("span",{className:"editSpan"})]})}),Object(x.jsx)("td",{children:Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{className:"deleteButton",type:"checkbox",onChange:this.props.onDeleteClicked,id:this.props.index.toString()}),Object(x.jsx)("span",{className:"deleteSpan"})]})})]})}}]),r}(a.Component)),J=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(e){var s;return Object(o.a)(this,r),(s=t.call(this,e)).unsubscribeStore=void 0,s.goToEditTransaction=function(){s.props.history.push("/edittransaction")},s.state={transactions:[]},s.unsubscribeStore=C.subscribe((function(){return s.setState({transactions:C.getState().transactions})})),s}return Object(i.a)(r,[{key:"editTransaction",value:function(e){sessionStorage.setItem("transactionId",e.target.parentElement.parentElement.parentElement.id),sessionStorage.setItem("transactionArrPosition",e.target.id)}},{key:"deleteTransaction",value:function(){var e=Object(j.a)(m.a.mark((function e(t){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete the selected transaction?")){e.next=11;break}return e.next=3,g.a.delete("http://localhost:3001/transactions/"+t.target.parentElement.parentElement.parentElement.id);case 3:return r=e.sent,e.next=6,g.a.get("http://localhost:3001/transactions");case 6:a=e.sent,C.dispatch({type:s.GetAllTransactions,payload:a.data}),window.confirm(r.data),e.next=12;break;case 11:return e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{children:[Object(x.jsxs)("table",{className:"table table-hover table-dark",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{scope:"col",children:"#"}),Object(x.jsx)("th",{scope:"col",children:"TransactionId"}),Object(x.jsx)("th",{scope:"col",children:"Total Price"}),Object(x.jsx)("th",{scope:"col",children:"CustomerId"}),Object(x.jsx)("th",{scope:"col",children:"Currency"}),Object(x.jsx)("th",{scope:"col",children:"creditCardType"}),Object(x.jsx)("th",{scope:"col",children:"creditCardNumber"}),Object(x.jsx)("th",{scope:"col",children:"Edit Transaction"}),Object(x.jsx)("th",{scope:"col",children:"Delete Transaction"})]})}),Object(x.jsx)("tbody",{children:this.state.transactions.map((function(t,r){return Object(x.jsx)(U,{id:t.id,totalPrice:t.totalPrice,currency:t.currency,creditCardType:t.creditCardType,creditCardNumber:t.creditCardNumber,customerId:t.customerId,index:r,onEditClicked:e.editTransaction,onEditClickedNavigate:e.goToEditTransaction,onDeleteClicked:e.deleteTransaction},t.id)}))})]}),Object(x.jsx)(d.b,{to:"/createtransaction",children:"Create New Transaction"}),Object(x.jsx)("br",{}),Object(x.jsx)(d.b,{to:"/customers",children:"Customers List"})]})}},{key:"componentWillUnmount",value:function(){this.unsubscribeStore(),C.dispatch({type:s.DESTROY_SESSION})}},{key:"componentDidMount",value:function(){var e=Object(j.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!JSON.parse(sessionStorage.getItem("isLoggedIn"))){e.next=7;break}return g.a.defaults.headers.common.Authorization=sessionStorage.getItem("userToken"),e.next=4,g.a.get("http://localhost:3001/transactions");case 4:t=e.sent,sessionStorage.setItem("transactionsArr",JSON.stringify(t.data)),C.dispatch({type:s.GetAllTransactions,payload:t.data});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),r}(a.Component),Y=function(e){Object(l.a)(r,e);var t=Object(u.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return Object(x.jsx)(d.a,{children:Object(x.jsxs)(h.d,{children:[Object(x.jsx)(h.b,{path:"/home",component:y,exact:!0}),Object(x.jsx)(h.b,{path:"/customers",component:F,exact:!0}),Object(x.jsx)(h.b,{path:"/editcustomer",component:P,exact:!0}),Object(x.jsx)(h.b,{path:"/createcustomer",component:v,exact:!0}),Object(x.jsx)(h.b,{path:"/transactions",component:J,exact:!0}),Object(x.jsx)(h.b,{path:"/edittransaction",component:D,exact:!0}),Object(x.jsx)(h.b,{path:"/createtransaction",component:k,exact:!0}),Object(x.jsx)(h.a,{from:"/",to:"/home",exact:!0}),Object(x.jsx)(h.b,{component:G})]})})}}]),r}(a.Component),B=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,77)).then((function(t){var r=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,c=t.getTTFB;r(e),s(e),a(e),n(e),c(e)}))};r(75);c.a.render(Object(x.jsx)(Y,{}),document.getElementById("root")),B()}},[[76,1,2]]]);
//# sourceMappingURL=main.90b64373.chunk.js.map